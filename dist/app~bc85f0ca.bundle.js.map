{"version":3,"file":"app~bc85f0ca.bundle.js","mappings":"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","sources":["webpack://warkopbae-restaurant-apps/./src/scripts/views/App.js","webpack://warkopbae-restaurant-apps/./src/scripts/views/pages/detail.js"],"sourcesContent":["import DrawerInitiator from \"../utils/drawer-initiator\";\r\nimport UrlParser from \"../routes/url-parser\";\r\nimport routes from \"../routes/routes\";\r\n\r\nclass App {\r\n  constructor({ button, drawer, content }) {\r\n    this._button = button;\r\n    this._drawer = drawer;\r\n    this._content = content;\r\n\r\n    this._initialAppShell();\r\n  }\r\n\r\n  _initialAppShell() {\r\n    // init drawer\r\n    DrawerInitiator.init({\r\n      button: this._button,\r\n      drawer: this._drawer,\r\n      content: this._content,\r\n    });\r\n\r\n    // kita bisa menginisiasikan komponen lain bila ada\r\n  }\r\n\r\n  async renderPage() {\r\n    const url = UrlParser.parseActiveUrlWithCombiner();\r\n    const page = routes[url];\r\n    this._content.innerHTML = await page.render();\r\n    await page.afterRender();\r\n    const skipLinkElem = document.querySelector(\".skip-link\");\r\n    skipLinkElem.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n      document.querySelector(\"#maincontent\").focus();\r\n    });\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import RestaurantSource from \"../../data/restaurant-source\";\r\nimport UrlParser from \"../../routes/url-parser\";\r\nimport RestoDetail from \"../templates/resto-detail\";\r\nimport Spinner from \"../templates/spinner\";\r\nimport AddReview from \"../templates/review\";\r\nimport LikeButtonPresenter from \"../../utils/like-button-presenter\";\r\nimport PostReview from \"../../utils/post-review\";\r\nimport { initSwalError, initSwalSuccess } from \"../../utils/alert-initiator\";\r\nimport FavoriteRestaurantIdb from \"../../data/favorite-restaurant-idb\";\r\nimport CustomFooter from \"../templates/footer\";\r\nimport { createSkeletonRestoDetailTemplate } from \"../templates/template-creator\";\r\n\r\nconst Detail = {\r\n  async render() {\r\n    return `\r\n  <div id=\"main-container\">\r\n    <div id=\"loading\"></div>\r\n    <div id=\"likeButtonContainer\"></div>\r\n    <section id=\"detail-resto\">\r\n    ${createSkeletonRestoDetailTemplate()}\r\n    </section>\r\n    <div class=\"add-review-container\">\r\n    </div>\r\n    \r\n \r\n    <footer id=\"footer-section\" aria-label=\"footer menu\"/>\r\n  </div>\r\n        `;\r\n  },\r\n\r\n  async afterRender() {\r\n    const url = UrlParser.parseActiveUrlWithoutCombiner();\r\n    const mainContainer = document.querySelector(\"#main-container\");\r\n    const detailContainer = document.querySelector(\"#detail-resto\");\r\n    const review = document.querySelector(\".add-review-container\");\r\n    const loading = document.querySelector(\"#loading\");\r\n    const footer = document.querySelector(\"#footer-section\");\r\n\r\n    loading.innerHTML = Spinner();\r\n    try {\r\n      detailContainer.style.display = \"none\";\r\n      const data = await RestaurantSource.getRestaurantDetail(url.id);\r\n\r\n      LikeButtonPresenter.init({\r\n        likeButtonContainer: document.querySelector(\"#likeButtonContainer\"),\r\n        favoriteRestaurants: FavoriteRestaurantIdb,\r\n        restaurant: {\r\n          id: data.id,\r\n          name: data.name,\r\n          description: data.description,\r\n          pictureId: data.pictureId,\r\n          city: data.city,\r\n          rating: data.rating,\r\n        },\r\n      });\r\n      detailContainer.innerHTML = RestoDetail(data);\r\n\r\n      detailContainer.style.display = \"block\";\r\n      loading.style.display = \"none\";\r\n\r\n      review.innerHTML = AddReview();\r\n      footer.innerHTML = CustomFooter();\r\n      const nameInput = document.querySelector(\"#input-name\");\r\n      const reviewInput = document.querySelector(\"#input-review\");\r\n      const buttonReview = document.querySelector(\"#button-review\");\r\n\r\n      buttonReview.addEventListener(\"click\", async (e) => {\r\n        e.preventDefault();\r\n        if (nameInput.value === \"\" || reviewInput.value === \"\") {\r\n          initSwalError(\"Review cannot empty!\");\r\n        } else {\r\n          await PostReview(url, nameInput.value, reviewInput.value);\r\n          initSwalSuccess(\"Succes add new review!\");\r\n        }\r\n        nameInput.value = \"\";\r\n        reviewInput.value = \"\";\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n      detailContainer.style.display = \"block\";\r\n      loading.style.display = \"none\";\r\n      mainContainer.innerHTML = `\r\n      <div class=\"error-page\">\r\n        <img tabindex=\"0\" class=\"error-image\" src=\"./images/notfound.png\" alt=\"error image\" srcset=\"\" />\r\n        <h5 tabindex=\"0\" class=\"error-title\">Sorry :(</h5>\r\n        <div class=\"error-desc\">\r\n        <p tabindex=\"0\">Error: ${error.message}</p>\r\n        </div>\r\n      </div>`;\r\n      initSwalError(error.message);\r\n    }\r\n  },\r\n};\r\n\r\nexport default Detail;\r\n"],"names":["i","button","drawer","content","this","_button","_drawer","_content","_initialAppShell","DrawerInitiator","url","UrlParser","page","routes","render","innerHTML","afterRender","document","querySelector","addEventListener","event","preventDefault","focus","createSkeletonRestoDetailTemplate","mainContainer","detailContainer","review","loading","footer","Spinner","style","display","RestaurantSource","id","data","LikeButtonPresenter","likeButtonContainer","favoriteRestaurants","FavoriteRestaurantIdb","restaurant","name","description","pictureId","city","rating","RestoDetail","AddReview","CustomFooter","nameInput","reviewInput","e","value","initSwalError","PostReview","initSwalSuccess","console","log","message"],"sourceRoot":""}