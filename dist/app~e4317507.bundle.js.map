{"version":3,"file":"app~e4317507.bundle.js","mappings":"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","sources":["webpack://warkopbae-restaurant-apps/./src/scripts/routes/routes.js","webpack://warkopbae-restaurant-apps/./src/scripts/routes/url-parser.js","webpack://warkopbae-restaurant-apps/./src/scripts/utils/alert-initiator.js","webpack://warkopbae-restaurant-apps/./src/scripts/utils/drawer-initiator.js","webpack://warkopbae-restaurant-apps/./src/scripts/utils/like-button-presenter.js","webpack://warkopbae-restaurant-apps/./src/scripts/utils/post-review.js","webpack://warkopbae-restaurant-apps/./src/scripts/utils/sw-register.js"],"sourcesContent":["import Home from \"../views/pages/home\";\r\nimport FavoritePage from \"../views/pages/favorite\";\r\nimport Detail from \"../views/pages/detail\";\r\n\r\nconst routes = {\r\n  \"/\": Home,\r\n  \"/home\": Home,\r\n  \"/favorite\": FavoritePage,\r\n  \"/restaurant/:id\": Detail,\r\n};\r\n\r\nexport default routes;\r\n","const UrlParser = {\r\n  parseActiveUrlWithCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    const splitedUrl = this._urlSplitter(url);\r\n    return this._urlCombiner(splitedUrl);\r\n  },\r\n\r\n  parseActiveUrlWithoutCombiner() {\r\n    const url = window.location.hash.slice(1).toLowerCase();\r\n    return this._urlSplitter(url);\r\n  },\r\n\r\n  _urlSplitter(url) {\r\n    const urlsSplits = url.split(\"/\");\r\n    return {\r\n      resource: urlsSplits[1] || null,\r\n      id: urlsSplits[2] || null,\r\n      verb: urlsSplits[3] || null,\r\n    };\r\n  },\r\n\r\n  _urlCombiner(splitedUrl) {\r\n    return (splitedUrl.resource ? `/${splitedUrl.resource}` : \"/\") + (splitedUrl.id ? \"/:id\" : \"\") + (splitedUrl.verb ? `/${splitedUrl.verb}` : \"\");\r\n  },\r\n};\r\n\r\nexport default UrlParser;\r\n","import Swal from \"sweetalert2\";\r\n\r\nconst initSwalSuccess = (title) => {\r\n  Swal.fire({\r\n    title,\r\n    toast: true,\r\n    position: \"top-end\",\r\n    icon: \"success\",\r\n    showConfirmButton: false,\r\n    didOpen: (toast) => {\r\n      toast.addEventListener(\"mouseenter\", Swal.stopTimer);\r\n      toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\r\n    },\r\n    timer: 2000,\r\n    timerProgressBar: true,\r\n  });\r\n};\r\nconst initSwalError = (title) => {\r\n  Swal.fire({\r\n    title,\r\n    toast: true,\r\n    icon: \"error\",\r\n    position: \"top-end\",\r\n    showConfirmButton: false,\r\n    didOpen: (toast) => {\r\n      toast.addEventListener(\"mouseenter\", Swal.stopTimer);\r\n      toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\r\n    },\r\n    timer: 2000,\r\n    timerProgressBar: true,\r\n  });\r\n};\r\n\r\nexport { initSwalSuccess, initSwalError };\r\n","/* eslint-disable object-curly-newline */\r\nconst DrawerInitiator = {\r\n  init({ button, drawer, content }) {\r\n    button.addEventListener(\"click\", (event) => {\r\n      this._toggleDrawer(button, event, drawer);\r\n    });\r\n\r\n    content.addEventListener(\"click\", (event) => {\r\n      this._closeDrawer(button, event, drawer);\r\n    });\r\n  },\r\n\r\n  _toggleDrawer(button, event, drawer) {\r\n    event.stopPropagation();\r\n    button.classList.toggle(\"active\");\r\n    drawer.classList.toggle(\"show\");\r\n  },\r\n\r\n  _closeDrawer(button, event, drawer) {\r\n    event.stopPropagation();\r\n    button.classList.remove(\"active\");\r\n    drawer.classList.remove(\"show\");\r\n  },\r\n};\r\n\r\nexport default DrawerInitiator;\r\n","import { createLikeRestoButtonTemplate, createUnlikeRestoButtonTemplate } from \"../views/templates/template-creator\";\r\nimport { initSwalError, initSwalSuccess } from \"./alert-initiator\";\r\n\r\nconst LikeButtonPresenter = {\r\n  async init({ likeButtonContainer, favoriteRestaurants, restaurant }) {\r\n    this._likeButtonContainer = likeButtonContainer;\r\n    this._restaurant = restaurant;\r\n    this._favoriteRestaurant = favoriteRestaurants;\r\n\r\n    await this._renderButton();\r\n  },\r\n\r\n  async _renderButton() {\r\n    try {\r\n      const { id } = this._restaurant;\r\n\r\n      if (await this._isRestaurantExist(id)) {\r\n        this._renderLiked();\r\n      } else {\r\n        this._renderLike();\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      initSwalError(error.message);\r\n\r\n      throw new Error(error);\r\n    }\r\n  },\r\n\r\n  async _isRestaurantExist(id) {\r\n    const restaurant = await this._favoriteRestaurant.getRestaurant(id);\r\n    return !!restaurant;\r\n  },\r\n\r\n  _renderLike() {\r\n    this._likeButtonContainer.innerHTML = createLikeRestoButtonTemplate();\r\n\r\n    const likeButton = document.querySelector(\"#likeButton\");\r\n    likeButton.addEventListener(\"click\", async () => {\r\n      await this._favoriteRestaurant.putRestaurant(this._restaurant);\r\n      initSwalSuccess(\"Resto favorited!\");\r\n      this._renderButton();\r\n    });\r\n  },\r\n\r\n  _renderLiked() {\r\n    this._likeButtonContainer.innerHTML = createUnlikeRestoButtonTemplate();\r\n\r\n    const likeButton = document.querySelector(\"#likeButton\");\r\n    likeButton.addEventListener(\"click\", async () => {\r\n      await this._favoriteRestaurant.deleteRestaurant(this._restaurant.id);\r\n      initSwalSuccess(\"Resto unfavorited!\");\r\n      this._renderButton();\r\n    });\r\n  },\r\n};\r\n\r\nexport default LikeButtonPresenter;\r\n","import RestaurantSource from \"../data/restaurant-source\";\r\n\r\nconst PostReview = async (url, name, review) => {\r\n  const reviewInput = {\r\n    id: url.id,\r\n    name,\r\n    review,\r\n  };\r\n\r\n  const reviewContainer = document.querySelector(\".review-card-container\");\r\n  const date = new Date().toLocaleDateString(\"id-ID\", {\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n  });\r\n\r\n  const newReview = `\r\n    <div class=\"review-card\">\r\n        <div class=\"card-review\">\r\n            <h5 tabindex=\"0\">${name}</h5>\r\n            <p tabindex=\"0\" class=\"review-user\">${review}</p>\r\n            <p tabindex=\"0\" class=\"review-date\">${date}</p>\r\n        </div>\r\n    </div>`;\r\n\r\n  await RestaurantSource.postRestaurantReview(reviewInput);\r\n  reviewContainer.innerHTML += newReview;\r\n};\r\n\r\nexport default PostReview;\r\n","import * as WorkboxWindow from \"workbox-window\";\r\n\r\nconst swRegister = async () => {\r\n  if (!(\"serviceWorker\" in navigator)) {\r\n    console.log(\"Service Worker not supported in the browser\");\r\n    return;\r\n  }\r\n\r\n  const wb = new WorkboxWindow.Workbox(\"./sw.bundle.js\");\r\n\r\n  try {\r\n    await wb.register();\r\n    console.log(\"Service worker registered\");\r\n  } catch (error) {\r\n    console.log(\"Failed to register service worker\", error);\r\n  }\r\n};\r\n\r\nexport default swRegister;\r\n"],"names":["Home","FavoritePage","Detail","parseActiveUrlWithCombiner","url","window","location","hash","slice","toLowerCase","splitedUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","split","resource","id","verb","initSwalSuccess","title","Swal","toast","position","icon","showConfirmButton","didOpen","addEventListener","timer","timerProgressBar","initSwalError","init","button","drawer","content","event","_toggleDrawer","_closeDrawer","stopPropagation","classList","toggle","remove","i","likeButtonContainer","favoriteRestaurants","restaurant","_likeButtonContainer","_restaurant","_favoriteRestaurant","_renderButton","_isRestaurantExist","_renderLiked","_renderLike","console","error","message","Error","getRestaurant","innerHTML","createLikeRestoButtonTemplate","document","querySelector","putRestaurant","createUnlikeRestoButtonTemplate","deleteRestaurant","name","review","reviewInput","reviewContainer","date","Date","toLocaleDateString","year","month","day","newReview","RestaurantSource","navigator","log","wb","WorkboxWindow","register"],"sourceRoot":""}